echo "Running Husky Pre-Push hooks"
# A variable to hold exit code of the tests

# Ensure the user is not committing to a branch named "main" or "master"
if [[ $(git branch --show-current) == "main" || $(git branch --show-current) == "master" ]]; then
  echo "You cannot push to the main branch"
  exit 1
else
    echo "You are not pushing to the main branch, good job!"
fi

# Run the tests, if it fails, log some output but don't fail the commit
npm run lint || true

#  Mutiline echo
echo ""
echo "===== A CODE COMMIT LIMERICK ====="
echo "In days of old, a stray commit,"
echo "Could sneak through without lints, bit by bit."
echo "But the future's more demanding,"
echo "Errors will cause reprimanding,"
echo "so run your test, and lint before commit."
echo "===== Chat GPT (and Kyle) =====" 
echo ""

echo "Husky Pre-Push hooks completed"